apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'

android {
    compileSdkVersion androidConstants.compileSdk
    resourcePrefix 'jras_' // jras is an acronym => jay rave android sqlite

    defaultConfig {
        minSdkVersion androidConstants.minSdk
        targetSdkVersion androidConstants.targetSdk
    }

    compileOptions {
        sourceCompatibility javaVersions.source
        targetCompatibility javaVersions.target
    }

    sourceSets {
        main.java.srcDirs += 'src/main/kotlin'
        test.java.srcDirs += 'src/test/kotlin'
    }
}

dependencies {
    api falkonModules.engine
    api libraries.kotlinStdlib
    api libraries.supportSqliteInterface
    api libraries.supportSqliteImpl

    testImplementation falkonModules.engineTestCommon
    testImplementation libraries.assertJ
    testImplementation libraries.jUnit
    testImplementation libraries.mockito
    testImplementation libraries.mockitoKotlin
    testImplementation libraries.robolectric
}

ext {
    mavenInstallInfo = [
            artifactId: 'falkon-engine-android-sqlite',
            name: 'FalkonEngineAndroidSqlite',
            description: 'Provides `Engine` implemention for Android\'s SQLite for falkon',
            packagingType: 'aar'
    ]

    bintrayUploadInfo = [
            'name': mavenInstallInfo.artifactId,
            'description': mavenInstallInfo.description
    ]
}

// Scripts should be applied after defining the required properties
apply from: '../gradle/falkon-maven-install.gradle'
apply from: '../gradle/falkon-bintray-upload.gradle'